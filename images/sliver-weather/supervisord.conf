[supervisord]
nodaemon=true
logfile=/var/log/supervisord.log
pidfile=/var/run/supervisord.pid

[program:nginx]
command=/usr/sbin/nginx -g "daemon off;"
autostart=true
autorestart=true
stdout_logfile=/var/log/nginx-stdout.log
stderr_logfile=/var/log/nginx-stderr.log

[program:weather-app]
command=node /app/server.js
directory=/app
autostart=true
autorestart=true
environment=NODE_ENV="production",PORT="%(ENV_WEATHER_APP_PORT)s",BUILDS_DIR="/app/builds",ELECTRON_APP_URL_WIN="%(ENV_ELECTRON_APP_URL_WIN)s",ELECTRON_APP_URL_MAC="%(ENV_ELECTRON_APP_URL_MAC)s",ELECTRON_APP_URL_LINUX="%(ENV_ELECTRON_APP_URL_LINUX)s",ELECTRON_APP_URL_LINUX_RPM="%(ENV_ELECTRON_APP_URL_LINUX_RPM)s"
stdout_logfile=/var/log/weather-app-stdout.log
stderr_logfile=/var/log/weather-app-stderr.log

[program:sync-builds]
command=/app/sync-builds.sh
directory=/app
autostart=true
autorestart=true
stdout_logfile=/var/log/sync-builds-stdout.log
stderr_logfile=/var/log/sync-builds-stderr.log
